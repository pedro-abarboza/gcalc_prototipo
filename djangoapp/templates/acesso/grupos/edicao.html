{% extends "genericos/cadastro.html" %}
{% load static %}
{% load functions %}
{% block css %}
	<link href="{% static 'assets/libs/select2/dist/css/select2.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}
{% block form %}

	<div class="form-group mt-3">
		<label>{{form.fields.name.label}}</label>
		<input name="name" type="text" class="form-control" maxlength={{form.fields.name.max_length}}
			id="name" required={{form.fields.name.required}} value="{{form.initial.name}}"
		>
		<small>{{form.fields.name.help_text}}</small>
	</div>

	<div class="form-group mt-3">
		<label>Permissões: </label>
		<select class="select form-control" name="permissions" id="permissions" multiple>
		{% for item in permissions %}
			<option value={{ item.id }} {% if item.id|safe in group_permissions %}selected{% endif %}>
				{{ item.name|translate_name_tm }}
			</option>
		{% endfor %}
		</select>
	</div>

{% endblock %}

{% block js %}
	<script src="{% static 'assets/libs/inputmask/dist/min/jquery.inputmask.bundle.min.js' %}"></script>
    <script src="{% static 'dist/js/pages/mask/mask.init.js' %}"></script>
	<script src="{% static 'assets/libs/select2/dist/js/select2.min.js' %}"></script>
	<script>
		$(document).ready(function() {
			$('.select').select2({
				placeholder: 'Selecione as Permissões.',
  				allowClear: true
			});
		});
	</script>
{% endblock %}